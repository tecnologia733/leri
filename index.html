<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>🤰 Calculadora Gestacional de Lerinha</title>
  <style>
    body {
      background: #fffdfc;
      color: #333;
      font-family: 'Segoe UI', sans-serif;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      color: #c2185b;
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    .section {
      margin-bottom: 2rem;
      background: #fff0f5;
      border-left: 5px solid #c2185b;
      padding: 1rem;
      border-radius: 5px;
    }
    blockquote {
      font-style: italic;
      color: #555;
      border-left: 4px solid #ccc;
      margin-left: 0;
      padding-left: 1rem;
    }
    .icone {
      font-size: 1.4rem;
      margin-right: 0.4rem;
    }
  </style>
</head>
<body>

  <h1>Olá meu amor Lerinha! 💕</h1>

  <div class="section">
    <h2>🩷 Acompanhamento pela DUM (20/02/2025)</h2>
    <p><span class="icone">📅</span><strong>Idade Gestacional:</strong> <span id="dumGestacao"></span></p>
    <p><span class="icone">📆</span><strong>DPP:</strong> 26/11/2025</p>
    <p><span class="icone">⏰</span><strong>Dias restantes:</strong> <span id="dumRestantes"></span></p>
    <p><span class="icone">📊</span><strong>Trimestre:</strong> <span id="dumTrimestre"></span></p>
    <p><span class="icone">ℹ️</span><strong>Informações do Trimestre:</strong> Período mais confortável da gravidez. O bebê está crescendo rapidamente.</p>
    <p><span class="icone">👶</span><strong>Desenvolvimento do Bebê:</strong> <em id="dumDesenvolvimento"></em></p>
  </div>

  <div class="section">
    <h2>💜 Acompanhamento por Ultrassom (23/04/2025)</h2>
    <p><span class="icone">📅</span><strong>Idade Gestacional:</strong> <span id="usgGestacao"></span></p>
    <p><span class="icone">📆</span><strong>DPP:</strong> 31/10/2025</p>
    <p><span class="icone">⏰</span><strong>Dias restantes:</strong> <span id="usgRestantes"></span></p>
    <p><span class="icone">📊</span><strong>Trimestre:</strong> <span id="usgTrimestre"></span></p>
    <p><span class="icone">ℹ️</span><strong>Informações do Trimestre:</strong> Período mais confortável da gravidez. O bebê está crescendo rapidamente.</p>
    <p><span class="icone">👶</span><strong>Desenvolvimento do Bebê:</strong> <em id="usgDesenvolvimento"></em></p>
  </div>

  <div class="section">
    <h2>🔬 Informações Científicas da Semana (pela DUM)</h2>
    <div id="infoSemana">Carregando...</div>
  </div>

  <script>
    const HOJE = new Date();

    function calcGestacao(dataInicio) {
      const inicio = new Date(dataInicio);
      const diff = HOJE - inicio;
      const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
      const semanas = Math.floor(dias / 7);
      const resto = dias % 7;
      return { semanas, resto, dias };
    }

    function getTrimestre(semana) {
      if (semana <= 13) return "1º Trimestre";
      if (semana <= 27) return "2º Trimestre";
      return "3º Trimestre";
    }

    const dum = calcGestacao("2025-02-20");
    const usg = calcGestacao("2025-01-31"); // 12s4d antes de 23/04

    // Renderizar infos DUM
    document.getElementById("dumGestacao").innerText = `${dum.semanas} semanas e ${dum.rest0 || dum.resto} dias`;
    document.getElementById("dumRestantes").innerText = `${280 - dum.dias} dias`;
    document.getElementById("dumTrimestre").innerText = getTrimestre(dum.semanas);
    document.getElementById("dumDesenvolvimento").innerText = `Você pode sentir os primeiros movimentos. É possível saber o sexo do bebê.`;

    // Renderizar infos USG
    document.getElementById("usgGestacao").innerText = `${usg.semanas} semanas e ${usg.rest0 || usg.resto} dias`;
    document.getElementById("usgRestantes").innerText = `${280 - usg.dias} dias`;
    document.getElementById("usgTrimestre").innerText = getTrimestre(usg.semanas);
    document.getElementById("usgDesenvolvimento").innerText = `Você pode sentir os primeiros movimentos. É possível saber o sexo do bebê.`;

    // Informação científica pela DUM
    const semanaAtual = dum.semanas;
    fetch('data/gravidez.json')
      .then(res => res.json())
      .then(json => {
        const info = json[semanaAtual];
        if (info) {
          document.getElementById("infoSemana").innerHTML = `
            <strong>${info.titulo}</strong><br/>
            ${info.descricao}<br/><br/>
            <strong>Cuidados:</strong> ${info.cuidados}
          `;
        } else {
          document.getElementById("infoSemana").innerText = "Ainda não temos informações para esta semana.";
        }
      });
  </script>

</body>
</html>
