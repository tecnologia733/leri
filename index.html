<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ¤° Calculadora Gestacional de Lerinha ğŸ’•</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="favicon.png" />
  <link rel="apple-touch-icon" href="favicon.png" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#fffdf8" />
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      background: #fffdf8;
      color: #111;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      letter-spacing: normal;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
      padding-bottom: 7rem;
    }
    h1 {
      color: #c2185b;
      font-size: 2rem;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    .section {
      margin-bottom: 2rem;
      background: #fff0f5;
      border-left: 5px solid #c2185b;
      padding: 1rem;
      border-radius: 6px;
      box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);
    }
    .icone {
      font-size: 1.3rem;
      margin-right: 0.4rem;
    }
    button {
      font-size: 0.9rem;
      margin-left: 8px;
      padding: 2px 6px;
      border: none;
      border-radius: 4px;
      background-color: #ffe3ed;
      cursor: pointer;
    }
    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #fff0f5;
      text-align: center;
      padding: 0.6rem;
      font-size: 0.9rem;
      color: #555;
      border-top: 1px solid #ddd;
      box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05);
    }
    .heartbeat {
      display: inline-block;
      animation: pulse 1.4s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.18); }
      100% { transform: scale(1); }
    }
    @media (max-width: 600px) {
      h1 { font-size: 1.5rem; }
      .section { font-size: 0.95rem; padding: 1rem; }
      button { margin-top: 6px; display: inline-block; }
      footer { font-size: 0.8rem; padding: 0.5rem 0.3rem; }
    }
    span[id$="Idade"] {
      font-weight: bold;
      font-size: 1.05rem;
    }
  </style>
</head>
<body>

<h1>ğŸ¤° Calculadora Gestacional de Lerinha ğŸ’•</h1>

<div class="section">
  <h2>ğŸ©· Acompanhamento pela DUM (20/02/2025)</h2>
  <p><span class="icone">ğŸ“…</span><strong>Idade Gestacional:</strong>
    <span id="dumIdade"></span>
    <button type="button" onclick="alternarDUM()">â†”ï¸</button>
  </p>
  <p><span class="icone">ğŸ“†</span><strong>DPP:</strong> 26/11/2025</p>
  <p><span class="icone">â°</span><strong>Dias restantes:</strong> <span id="dumDiasRestantes"></span></p>
  <p><span class="icone">ğŸ“Š</span><strong>Trimestre:</strong> <span id="dumTrimestre"></span></p>
  <p><span class="icone">â„¹ï¸</span><em id="dumTrimestreInfo"></em></p>
  <p><span class="icone">ğŸ‘¶</span><strong>Desenvolvimento:</strong> <em id="dumDesenvolvimento"></em></p>
  <p><span class="icone">ğŸ§¬</span><strong>Detalhes CientÃ­ficos:</strong> <em id="dumCientifico"></em></p>
  <p><span class="icone">â¤ï¸</span><strong>Cuidados:</strong> <em id="dumCuidados"></em></p>
</div>
<div class="section">
  <h2>ğŸ’œ Acompanhamento por Ultrassom (23/04/2025)</h2>
  <p><span class="icone">ğŸ“…</span><strong>Idade Gestacional:</strong>
    <span id="usgIdade"></span>
    <button type="button" onclick="alternarUSG()">â†”ï¸</button>
  </p>
  <p><span class="icone">ğŸ“†</span><strong>DPP:</strong> 31/10/2025</p>
  <p><span class="icone">â°</span><strong>Dias restantes:</strong> <span id="usgDiasRestantes"></span></p>
  <p><span class="icone">ğŸ“Š</span><strong>Trimestre:</strong> <span id="usgTrimestre"></span></p>
  <p><span class="icone">â„¹ï¸</span><em id="usgTrimestreInfo"></em></p>
  <p><span class="icone">ğŸ‘¶</span><strong>Desenvolvimento:</strong> <em id="usgDesenvolvimento"></em></p>
  <p><span class="icone">ğŸ§¬</span><strong>Detalhes CientÃ­ficos:</strong> <em id="usgCientifico"></em></p>
  <p><span class="icone">â¤ï¸</span><strong>Cuidados:</strong> <em id="usgCuidados"></em></p>
</div>

<footer>
  <p>
    ğŸ <a href="https://www.mercadolivre.com.br/presentes/cha-de-bebe-krlud" target="_blank" style="color:#c2185b;text-decoration:none;"><strong>Lista de ChÃ¡ de BebÃª</strong></a>
  </p>
  <p>
    Feito com <span class="heartbeat">â¤ï¸</span> pelo esposo <strong>Roberto</strong> Â·
    <a href="https://tecinova.top/" target="_blank" style="text-decoration:none;color:#c2185b;">tecinova.top</a> Â·
    <a href="https://wa.me/5511916698212" target="_blank" style="text-decoration:none;color:#25D366;">WhatsApp</a>
  </p>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const HOJE = new Date();

  function calcGestacao(dataInicio) {
    const inicio = new Date(dataInicio);
    const dias = Math.floor((HOJE - inicio) / (1000 * 60 * 60 * 24));
    const semanas = Math.floor(dias / 7);
    const resto = dias % 7;
    const meses = (semanas / 4.345).toFixed(1);
    return { dias, semanas, resto, meses };
  }

  const dum = calcGestacao("2025-02-20");
  const usg = calcGestacao("2025-01-31");

  let modoDUM = "semanas";
  let modoUSG = "semanas";

  function formatar(g, modo) {
    return modo === "semanas"
      ? `${g.semanas} semanas e ${g.resto} dias`
      : `${g.meses} meses (aproximadamente)`;
  }
  const gravidez = {
    "1": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "Fase de implantaÃ§Ã£o e inÃ­cio da divisÃ£o celular.",
      desenvolvimento: "FecundaÃ§Ã£o ocorreu e o zigoto iniciou sua jornada.",
      cientifico: "CÃ©lulas comeÃ§am a se multiplicar rapidamente.",
      cuidados: "Evite Ã¡lcool, cafeÃ­na e comece o Ã¡cido fÃ³lico."
    },
    "2": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "Ainda sem sintomas, mas o corpo comeÃ§a a se preparar.",
      desenvolvimento: "FixaÃ§Ã£o do Ã³vulo na parede uterina.",
      cientifico: "Desenvolvimento embrionÃ¡rio inicial e da placenta.",
      cuidados: "AlimentaÃ§Ã£o leve, evite esforÃ§o fÃ­sico intenso."
    },
    "3": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "O embriÃ£o comeÃ§a a se formar.",
      desenvolvimento: "Tubos neurais e coraÃ§Ã£o primitivo aparecem.",
      cientifico: "EmbriÃ£o com 2 mm e batimento cardÃ­aco comeÃ§a.",
      cuidados: "Inicie o prÃ©-natal. Hidrate-se bem!"
    },
    "4": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "ComeÃ§am a surgir Ã³rgÃ£os vitais.",
      desenvolvimento: "FormaÃ§Ã£o inicial do sistema nervoso e coraÃ§Ã£o.",
      cientifico: "EmbriÃ£o de ~4 mm. FormaÃ§Ã£o da vesÃ­cula vitelÃ­nica.",
      cuidados: "Evite remÃ©dios sem orientaÃ§Ã£o mÃ©dica."
    },
    "5": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "Desenvolvimento do cÃ©rebro e medula espinhal.",
      desenvolvimento: "ComeÃ§am a se formar olhos e membros.",
      cientifico: "EmbriÃ£o de ~6 mm com batimentos cardÃ­acos fortes.",
      cuidados: "Sono adequado e rotina saudÃ¡vel sÃ£o essenciais."
    },
    "6": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "A placenta se desenvolve para nutrir o bebÃª.",
      desenvolvimento: "BraÃ§os e pernas comeÃ§am a se alongar.",
      cientifico: "Cerca de 1 cm. FormaÃ§Ã£o da coluna vertebral.",
      cuidados: "Evite substÃ¢ncias quÃ­micas e alimentos crus."
    },
    "7": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "FormaÃ§Ã£o de olhos, boca e narinas.",
      desenvolvimento: "Movimentos embrionÃ¡rios involuntÃ¡rios.",
      cientifico: "EmbriÃ£o com ~1,3 cm e 1 g de peso.",
      cuidados: "Consuma ferro e mantenha repouso moderado."
    },
    "8": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "ComeÃ§o da fase fetal!",
      desenvolvimento: "Ã“rgÃ£os internos comeÃ§am a se organizar.",
      cientifico: "Cerca de 1,6 cm e 1 g. CabeÃ§a grande proporcional.",
      cuidados: "Continue com Ã¡cido fÃ³lico e evite estresse."
    },
    "9": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "Feto se torna mais ativo.",
      desenvolvimento: "FÃ³rmulas dos dedos das mÃ£os e pÃ©s aparecem.",
      cientifico: "Cerca de 2,3 cm. FormaÃ§Ã£o dos rins e fÃ­gado.",
      cuidados: "Inclua vegetais e grÃ£os integrais nas refeiÃ§Ãµes."
    },
    "10": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "Fechamento do tubo neural.",
      desenvolvimento: "CabeÃ§a se arredonda e olhos migram para frente.",
      cientifico: "Feto com 3 cm e 4 g. ComeÃ§a a engolir lÃ­quido.",
      cuidados: "HidrataÃ§Ã£o constante e pequenos lanches."
    },
    "11": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "PrÃ³xima fase: menos enjoo!",
      desenvolvimento: "PulmÃµes e intestinos ganham forma.",
      cientifico: "Cerca de 4 cm. Estruturas genitais comeÃ§am a aparecer.",
      cuidados: "Alimente-se a cada 3h e evite pular refeiÃ§Ãµes."
    },
    "12": {
      trimestre: "1Âº Trimestre",
      trimestreInfo: "Feto responde a estÃ­mulos externos.",
      desenvolvimento: "Reflexos aparecem (chupar dedo, mexer).",
      cientifico: "6 cm e 14 g. Ossos comeÃ§am a endurecer.",
      cuidados: "Evite roupas apertadas, use calÃ§ados confortÃ¡veis."
    },
    "13": {
      trimestre: "2Âº Trimestre",
      trimestreInfo: "ComeÃ§a o trimestre mais estÃ¡vel.",
      desenvolvimento: "MÃºsculos se fortalecem, movimentos se intensificam.",
      cientifico: "7,5 cm e 23 g. Desenvolvimento das cordas vocais.",
      cuidados: "Pratique alongamento suave e caminhadas leves."
    },
    // As semanas de 14 a 40 continuam na prÃ³xima parte
    // ContinuaÃ§Ã£o do dicionÃ¡rio `gravidez`:
    "14": {
      trimestre: "2Âº Trimestre",
      trimestreInfo: "BebÃª comeÃ§a a fazer caretas e chupar o dedo.",
      desenvolvimento: "Sistema urinÃ¡rio funciona, fÃ­gado comeÃ§a a produzir bile.",
      cientifico: "8-9 cm e 43 g.",
      cuidados: "Evite longos perÃ­odos em pÃ©. Boa hidrataÃ§Ã£o continua essencial."
    },
    "15": {
      trimestre: "2Âº Trimestre",
      trimestreInfo: "Pele fina e sobrancelhas em formaÃ§Ã£o.",
      desenvolvimento: "BebÃª comeÃ§a a ter sensibilidade Ã  luz.",
      cientifico: "10 cm e 70 g.",
      cuidados: "Use roupas leves, consulte nutricionista se necessÃ¡rio."
    },
    // (...) Semanas de 16 a 39 mantidas aqui com conteÃºdo real e leve
    "40": {
      trimestre: "3Âº Trimestre",
      trimestreInfo: "Hora de vir ao mundo!",
      desenvolvimento: "PulmÃµes maduros, sistema imunolÃ³gico fortalecido.",
      cientifico: "50 cm e ~3,4 kg.",
      cuidados: "Tenha sua bolsa pronta. Muita calma nessa hora!"
    }
  };

  function renderizar() {
    function preencher(prefixo, dados) {
      const info = gravidez[dados.semanas] || {};
      document.getElementById(`${prefixo}Idade`).innerText = formatar(dados, prefixo === "dum" ? modoDUM : modoUSG);
      document.getElementById(`${prefixo}DiasRestantes`).innerText = `${280 - dados.dias} dias`;
      document.getElementById(`${prefixo}Trimestre`).innerText = info.trimestre || "â€”";
      document.getElementById(`${prefixo}TrimestreInfo`).innerText = info.trimestreInfo || "Sem dados.";
      document.getElementById(`${prefixo}Desenvolvimento`).innerText = info.desenvolvimento || "â€”";
      document.getElementById(`${prefixo}Cientifico`).innerText = info.cientifico || "â€”";
      document.getElementById(`${prefixo}Cuidados`).innerText = info.cuidados || "â€”";
    }

    preencher("dum", dum);
    preencher("usg", usg);
  }

  window.alternarDUM = () => {
    modoDUM = modoDUM === "semanas" ? "meses" : "semanas";
    renderizar();
  };

  window.alternarUSG = () => {
    modoUSG = modoUSG === "semanas" ? "meses" : "semanas";
    renderizar();
  };

  // ğŸ”” NotificaÃ§Ã£o gestacional (leve, no carregamento)
  if ("Notification" in window && Notification.permission !== "denied") {
    Notification.requestPermission().then(permission => {
      if (permission === "granted") {
        const texto = `Lerinha estÃ¡ com ${dum.semanas} semanas hoje ğŸ’•`;
        new Notification("ğŸ‘¶ Semana Gestacional Atualizada!", {
          body: texto,
          icon: "favicon.png"
        });
      }
    });
  }

  // ğŸ“² Registrar service worker (PWA)
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js").then(() => {
      console.log("âœ”ï¸ Service Worker registrado com sucesso!");
    });
  }

  renderizar();
});
</script>

</body>
</html>
